/* =========================
   Smart Traffic – Unified Theme
   Design: glassmorphism + soft shadows + vivid badges
   ========================= */

/* -------- Theme Tokens -------- */
:root{
  /* Base */
  --bg: #0c0f1a;
  --bg-2: #0f1424;
  --panel: #11182b;
  --card: #151f38;

  /* Text */
  --text: #e7eefc;
  --muted: #9db0d8;

  /* Brand / Accents */
  --brand: #6ea7ff;         /* primary hue */
  --brand-2: #4d7dff;       /* deep primary */
  --ok: #20d6a4;
  --warn: #ffb23e;
  --danger: #ff5d6c;
  --info: #6cc8ff;

  /* Lines & Glass */
  --line: rgba(255,255,255,.09);
  --line-2: rgba(255,255,255,.14);
  --glass: rgba(255,255,255,.06);
  --glass-2: rgba(255,255,255,.08);

  /* Shadows */
  --shadow-1: 0 8px 30px rgba(3,8,25,.35);
  --shadow-2: 0 14px 40px rgba(3,8,25,.45);

  /* Radii & Motion */
  --r-lg: 16px;
  --r-xl: 20px;
  --r-full: 999px;
  --ease: cubic-bezier(.2,.7,.2,1);
}

@media (prefers-reduced-motion: reduce){
  *{animation: none!important; transition: none!important;}
}

/* -------- Resets -------- */
/* 1) 基础底色，避免滚动时出现背景断档 */
html{ background: var(--bg-2); }

/* 2) 让 body 不再承载复杂渐变，只留底色与排版 */
body{
  color:var(--text);
  background: var(--bg);          /* 纯色兜底 */
  font: 14px/1.55 ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;             /* 为 ::before 提供定位上下文 */
  min-height: 100%;
}

/* 3) 固定在视口之下的“背景画布” —— 不随内容高度滚动，不会拼接 */
body::before{
  content: "";
  position: fixed;
  z-index: -1;
  inset: 0;
  pointer-events: none;

  /* 原来的三层背景搬到这里，适当加大半径，避免边缘可见 */
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(27,42,82,1) 0%, rgba(27,42,82,0) 65%),
    radial-gradient(1000px 600px at 110% 10%, rgba(24,42,65,1) 0%, rgba(24,42,65,0) 60%),
    linear-gradient(180deg, var(--bg), var(--bg-2));

  background-repeat: no-repeat;
  /* 硬件加速，减少滚动拖影 */
  transform: translateZ(0);
  will-change: transform;
}

/* 4) 打印时关掉大背景，保证清晰 */
@media print{
  body::before{ display:none; }
}


/* Better focus */
:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--brand) 70%, white 0%);
  outline-offset: 2px;
  border-radius: 10px;
}

/* -------- Layout Shell -------- */
.container{
  max-width:1200px;
  margin:0 auto;
  padding:20px;
}

/* Top Nav (shared) */
.nav{
  position:sticky; top:0; z-index:100;
  background: linear-gradient(180deg, rgba(18,24,45,.85), rgba(15,20,36,.7));
  border-bottom:1px solid var(--line);
  backdrop-filter: blur(10px);
}
.nav .inner{
  display:flex; align-items:center; justify-content:space-between;
  gap:20px; padding:12px 20px;
}
.nav .links a{
  color:var(--text); opacity:.8; margin-right:14px; text-decoration:none;
  transition:opacity .25s var(--ease), color .25s var(--ease);
}
.nav .links a:last-child{margin-right:0}
.nav .links a:hover,
.nav .links a.active{
  opacity:1; color:var(--brand);
}

/* -------- Cards / Panels -------- */
.card, .panel{
  background: linear-gradient(180deg, var(--card), #121a31);
  border:1px solid var(--line);
  border-radius: var(--r-xl);
  padding:16px;
  box-shadow: var(--shadow-1);
}
.card{ backdrop-filter: blur(6px) saturate(110%); }
.panel{
  background: linear-gradient(180deg, var(--panel), #121a30);
  border-color: var(--line-2);
}
.card h3, .panel h3{
  margin:0 0 10px; font-size:16px; letter-spacing:.2px;
}

/* KPI compact header */
.kpi{ display:flex; align-items:center; justify-content:space-between; }
.kpi b{ font-size:22px; letter-spacing:.3px; }

/* -------- Grid System -------- */
.grid{ display:grid; gap:16px; }
.grid.cols-2{ grid-template-columns:1fr 1fr; }
.grid.cols-3{ grid-template-columns:repeat(3,1fr); }

@media (max-width: 920px){
  .grid.cols-2, .grid.cols-3{ grid-template-columns:1fr; }
}

/* -------- Buttons -------- */
.btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px;
  border:1px solid var(--line);
  border-radius: 12px;
  background:
    linear-gradient(180deg, #1a2544, #121a30);
  color:var(--text);
  cursor:pointer;
  transition:
    transform .1s var(--ease),
    box-shadow .25s var(--ease),
    border-color .25s var(--ease),
    background .25s var(--ease);
  box-shadow: 0 2px 0 rgba(255,255,255,.04) inset;
}
.btn:hover{
  border-color: var(--glass-2);
  background: linear-gradient(180deg, #202e58, #141d36);
}
.btn:active{ transform: translateY(1px); }

/* Semantic buttons */
.btn.primary{
  border-color: transparent;
  background: linear-gradient(180deg, var(--brand), var(--brand-2));
  color:#0a0f1e;
  box-shadow: 0 10px 20px rgba(78,125,255,.25);
}
.btn.success{ background: linear-gradient(180deg, #19c594, #119873); border-color: rgba(32,214,164,.25); }
.btn.warn{    background: linear-gradient(180deg, #e09a27, #c97b0b);  border-color: rgba(255,178,62,.25); }
.btn.danger{  background: linear-gradient(180deg, #ff6d7a, #e44558);  border-color: rgba(255,93,108,.25); }

/* Legacy button color tags from accident.html */
.btn-blue{  background: linear-gradient(180deg, #6ea7ff, #4d7dff); color:#0a0f1e; border-color:transparent; }
.btn-green{ background: linear-gradient(180deg, #20d6a4, #17a67f); color:#07131a; border-color:transparent; }
.btn-gray{  background: linear-gradient(180deg, #3a4662, #2a344d); color:var(--text); }
.btn-red{   background: linear-gradient(180deg, #ff6d7a, #e44558); color:#0a0f1e; }

/* -------- Inputs -------- */
.input, select, textarea, input[type="text"]{
  width:100%;
  padding:11px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background: linear-gradient(180deg, #0f1730, #0c1326);
  color:var(--text);
  outline:none;
  transition:border-color .25s var(--ease), box-shadow .25s var(--ease), background .25s var(--ease);
}
.input::placeholder, textarea::placeholder{ color: color-mix(in oklab, var(--muted) 80%, white 0%); }
.input:focus, select:focus, textarea:focus, input[type="text"]:focus{
  border-color: color-mix(in oklab, var(--brand) 60%, white 0%);
  box-shadow: 0 0 0 6px rgba(110,167,255,.12);
}

/* -------- Badges -------- */
.badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding:4px 10px; font-size:12px;
  background: #0f1730; color: var(--text);
  border:1px solid var(--line); border-radius: var(--r-full);
}
.badge.ok{    color: var(--ok);    border-color: rgba(32,214,164,.35); background: rgba(32,214,164,.07); }
.badge.warn{  color: var(--warn);  border-color: rgba(255,178,62,.35); background: rgba(255,178,62,.07); }
.badge.danger{color: var(--danger);border-color: rgba(255,93,108,.35); background: rgba(255,93,108,.07); }
.badge.info{  color: var(--info);  border-color: rgba(108,200,255,.35);background: rgba(108,200,255,.07); }

/* -------- Lists / Tables / Toolbars -------- */
.list{ display:flex; flex-direction:column; gap:10px; }
.list .item{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 12px;
  border:1px dashed var(--line);
  background: linear-gradient(180deg, #0e1630, #0d142c);
  border-radius: 14px;
}

.table{ width:100%; border-collapse:collapse; }
.table th,.table td{
  border-bottom:1px solid var(--line);
  padding:10px; text-align:left; vertical-align:top;
}
.table thead th{
  font-weight:600; color: var(--muted);
  background: linear-gradient(180deg, #121a33, #11182b);
}

.toolbar{ display:flex; gap:10px; flex-wrap:wrap; }

/* -------- Placeholders / Hero -------- */
.placeholder{
  width:100%; height:180px;
  border-radius: 14px;
  border:1px dashed var(--line);
  background:
    radial-gradient(160px 80px at 30% 20%, rgba(110,167,255,.14), transparent 70%),
    radial-gradient(140px 70px at 70% 80%, rgba(32,214,164,.12), transparent 70%),
    linear-gradient(180deg, #0e1630, #0d142c);
  display:flex; align-items:center; justify-content:center;
  color: var(--muted);
  letter-spacing:.2px;
}
.hero{ display:flex; flex-direction:column; gap:12px; padding:12px; }

/* -------- Headings / Muted -------- */
h1,h2,h3,h4{ font-weight:600; }
.muted{ color: var(--muted); }

/* -------- Footer -------- */
footer{
  opacity:.75; text-align:center; padding:28px 16px; margin-top:10px;
  border-top:1px solid var(--line);
}

/* -------- Accident page specifics -------- */
.header{
  text-align:center; font-size:24px; font-weight:700; letter-spacing:.3px;
  color:var(--text);
  margin: 4px 0 20px;
  text-shadow: 0 6px 18px rgba(110,167,255,.15);
}
.form-section{ margin-top: 14px; }
.form-group{ margin-bottom: 14px; }
label{ display:block; font-weight:600; margin-bottom:6px; color: var(--text); opacity:.9; }

/* Footer button row inside forms */
.footer{ text-align:right; margin-top:18px; }
.footer .btn{ margin-left:10px; }

/* Modal (monitor) */
.modal{
  display:none; position:fixed; inset:0; z-index:999;
  background: rgba(5,10,24,.55);
  backdrop-filter: blur(6px);
  align-items:center; justify-content:center;
}
.modal-content{
  width:min(92vw, 760px);
  background: linear-gradient(180deg, #131b35, #11182d);
  border:1px solid var(--line-2);
  border-radius: 16px;
  padding:18px;
  box-shadow: var(--shadow-2);
  position:relative;
}
.modal-content h2{ margin: 6px 0 10px; text-align:center; }
.modal-content img, .modal-content video{
  width:100%; display:block; border-radius: 12px;
  border:1px solid var(--line);
}
.close{
  position:absolute; top:10px; right:14px;
  font-size:22px; cursor:pointer; color: var(--muted);
  transition: transform .15s var(--ease), color .2s var(--ease);
}
.close:hover{ transform: scale(1.08); color: var(--text); }

/* -------- Micro Interactions -------- */
.card, .panel, .placeholder, .list .item, .modal-content{
  transition: transform .25s var(--ease), box-shadow .25s var(--ease), border-color .25s var(--ease);
}
.card:hover, .panel:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 34px rgba(18,29,57,.45);
  border-color: var(--glass-2);
}

/* -------- Tiny utilities -------- */
.row{ display:flex; gap:12px; }
.col{ flex:1; }
.center{ display:flex; align-items:center; justify-content:center; }
.hidden{ display:none!important; }

/* -------- Print adjust (optional) -------- */
@media print{
  .nav, .toolbar, footer{ display:none!important; }
  body{ background:#fff; color:#111; }
  .card, .panel{ border-color:#ddd; background:#fff; box-shadow:none; }
}
